# Graph Library

Find shortest path for operational points, assumes that graph files are generated by RInfLoader.

Cost function is the traveltime, length of section of line multiplied by scaled max speed to prefer rouutes with higher speed.

The path actually taken by a train may be slightly different.

Calculating routes with high accuracy, requires further data about the connectivity within each operational point (see [Leveraging Semantic Technologies for Digital Interoperability in the European Railway Domain](https://link.springer.com/epdf/10.1007/978-3-030-88361-4_38?sharing_token=1o_s7PDoV39x-REbzrEi9fe4RwlQNchNByi7wbcMAY6cX0iMBo8kbKm6MVocmAfla1lOS3pIKdJnlGw_p7Hlarek_nfbMrdg2IEYVlyrg7UoC8_O5QAzne-G1waJIuD4K6xSNHF9bK26QKM6niEPNUKiwT_oLJLoafQwuYM5Z2I%3D)).

## Compile to javascript via [Fable](https://github.com/fable-compiler/Fable)

* add fable directory to FSharpx.Collections nuget package till version 3.0.0 is released
* build prod: dotnet fable RInfGraph.fable.fsproj -o build --run webpack --mode production --no-devtool --config ./webpack.config.js
* build dev: dotnet fable RInfGraph.fable.fsproj -o build --run webpack --mode development --devtool source-map --config ./webpack.config.js
* usage: node index.js rinf-data/data/Graph.json "DE   HH;DE   BL"

## Build rinf-data module

* run: build-package.sh
* module is used by [FahrplanApp](https://github.com/bergmannjg/FahrplanApp)
